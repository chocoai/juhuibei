<view class="container">
  <swiper class="musics-swiper" current="{{current}}" bindchange="handleChange">
    <block wx:for="{{activity_info.activity_image}}" wx:key="item" wx:for-index="idx">
      <swiper-item class="musics-swiper-item">
        <import src="templates/musicItem.wxml"/>
        <template is="music-item" data="{{item: item}}"/>
      </swiper-item>
    </block>
    <swiper-item></swiper-item>
  </swiper>

  <view class="music-control">
    <view class="music-author">
      <block wx:for="{{activity_info.info}}" wx:key="item">
        <view wx:if="{{item.user_id == user_id}}">
          <image class="music-author-avatar" src="{{item.user.avatar_url}}" mode="aspectFill"></image>
        </view>
      </block>
      <view class="music-author-username">
        <text>{{activity_info.title}}</text>
      </view>
      <view class="music-author-desc">
        <text>{{activity_info.description}}</text>
      </view>
    </view>
    <view class="music-play" bindtap="togglePlay">
      <image class="music-play-control" src="/{{playImg}}" data-id="2460"></image>
    </view>
    <view class="music-title">
      <text></text>
    </view>
    <view class="music-maketime">
      <view wx:if="{{activity_info._countdown}}">
        <wxc-countdown countdown="{{activity_info._countdown}}"></wxc-countdown>
      </view>
    </view>
  </view>   
  
  <view class="music-content">
    <include wx:if="{{contentType === 'story'}}" src="./includes/story.wxml"/>
    <include wx:if="{{contentType === 'lyric'}}" src="./includes/lyric.wxml"/>
    <include wx:if="{{contentType === 'about'}}" src="./includes/about.wxml"/>
  </view>
</view>
