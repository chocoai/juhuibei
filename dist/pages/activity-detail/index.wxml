<view class="container">
  <swiper class="musics-swiper" current="{{current}}" bindchange="handleChange">
    <block wx:for="{{activity_info.activity_image}}" wx:key="item" wx:for-index="idx">
      <swiper-item class="musics-swiper-item">
        <import src="templates/musicItem.wxml"/>
        <template is="music-item" data="{{item: item}}"/>
      </swiper-item>
    </block>
    <swiper-item></swiper-item>
  </swiper>

  <view class="music-control">
    <view class="music-author">      
          <image class="music-author-avatar" src="{{info.user_info.avatar_url}}" mode="aspectFill"></image>        
      <view class="music-author-username">
        <text>{{activity_info.title}}</text>
      </view>
      <view class="music-author-desc">
        <text>{{activity_info.description}}</text>
      </view>
    </view>
    <block wx:if="{{info.is_coming}}">
      <button open-type="share" class="share-btn">
        <image class="music-play-control" src="/common/assets/images/activity/share.png" data-id="{{item.user_id}}"></image>
      </button>
    </block>
    <block wx:else>
      <view class="music-play" bindtap="joinActivity">
        <image class="music-play-control" src="/common/assets/images/activity/coming.png" data-id="{{item.user_id}}"></image>
      </view>
    </block>
    <view class="music-title">
      <text></text>
    </view>
    <view class="music-maketime">
      <block wx:if="{{activity_info._countdown}}">
        <wxc-countdown countdown="{{activity_info._countdown}}"></wxc-countdown>
      </block>
    </view>
  </view>

  <view class="music-content">
    <include wx:if="{{contentType === 'info'}}" src="./includes/info.wxml"/>
    <include wx:if="{{contentType === 'picture'}}" src="./includes/picture.wxml"/>
    <include wx:if="{{contentType === 'callbook'}}" src="./includes/callbook.wxml"/>
  </view>
</view>
